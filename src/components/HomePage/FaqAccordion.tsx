import { useState } from "react"
import clsx from "clsx"
import { ChevronDown } from "lucide-react"
import styles from "./Faq-Accordion.module.css"

interface FaqItem {
  id: string
  question: string
  answer: string
}

const faqData: FaqItem[] = [
  {
    id: "1",
    question: "واچر هتل چیست؟",
    answer:
      "واچر هتل، رسید پرداخت و تاییدیه رزرو هتل است. پس از رزرو، واچر هتل به صورت آنی از طرف فلای‌تودی صادر خواهد شد.",
  },
  {
    id: "2",
    question: "آیا علاوه بر هزینه رزرو، مسافر باید مبلغ دیگری در هتل پرداخت کند؟",
    answer:
      "مبلغ پرداخت شده در هنگام رزرو هتل، هزینه نهایی است اما امکان دارد با توجه به قوانین هتل، هزینه‌هایی برای مالیات شهری، نظافت و یا مواردی از این قبیل از مسافران به صورت جداگانه در هتل دریافت شود.",
  },
  {
    id: "3",
    question: "آیا می‌توان همزمان با رزرو هتل، خدمات ترانسفر را نیز خریداری کرد؟",
    answer:
      "خیر، خدمات ارائه شده در سایت و اپ فلای‌تودی مربوط به رزرواسیون آنلاین هتل است و امکان ارائه خدمات ترانسفر در حال حاضر وجود ندارد. مگر اینکه هتل انتخاب شده، این خدمات را ارائه دهد.",
  },
  {
    id: "4",
    question: "آیا امکان رزرو هتل خارجی با پرداخت ریالی در فلای‌تودی وجود دارد؟",
    answer:
      "بله، می‌توانید به راحتی رزرو هتل خارجی خود را از طریق فلای‌تودی انجام داده و به صورت ریالی و با استفاده از کارت‌های شتاب، هزینه آن را پرداخت کنید.",
  },
  {
    id: "5",
    question: "آیا امکان ویرایش اطلاعات بعد از رزرو هتل در فلای‌تودی وجود دارد؟",
    answer: "خیر، بعد از رزرو نهایی هتل، امکان ویرایش اطلاعات وجود نخواهد داشت.",
  },
  {
    id: "6",
    question: "آیا امکان کنسلی هتل و استرداد وجه آن وجود دارد؟",
    answer:
      "بله، با توجه به قوانین هتل‌های داخلی و خارجی، امکان کنسلی هتل و استرداد وجه آن به مسافر وجود دارد. البته، قوانین هر هتل با دیگری متفاوت است و در زمان رزرو آنلاین هتل، می‌توانید آن را مطالعه کنید.",
  },
  {
    id: "7",
    question: "آیا صبحانه یا سایر وعده‌های غذایی در قیمت اتاق محاسبه شده است؟",
    answer:
      "این موضوع به هتلی که رزرو می‌کنید، بستگی دارد. برخی از هتل‌ها صبحانه را به‌صورت رایگان ارائه می‌دهند، در حالی که برخی دیگر هزینه آن را به‌طور جداگانه محاسبه می‌کنند. در توضیحات هر هتل یا در زمان رزرو، مشخص شده که صبحانه یا وعده‌های غذایی شامل هزینه اتاق هستند یا خیر.",
  },
  {
    id: "8",
    question: "آیا پس از نهایی کردن رزرو، امکان تغییر تاریخ آن وجود دارد؟",
    answer:
      "با توجه به قوانین هتل و شرایط رزرو، برخی هتل‌ها اجازه تغییر تاریخ بدون هزینه را می‌دهند، در حالی که برخی دیگر ممکن است هزینه‌ای بابت آن دریافت کنند. در هر صورت، شرایط تغییر تاریخ را در بخش قوانین بررسی کنید.",
  },
  {
    id: "9",
    question: "چگونه هتل خود را با موقعیت مکانی مناسب انتخاب کنم؟",
    answer:
      "شما می‌توانید موقعیت هتل را در فلای‌تودی بررسی کرده یا از نظرات کاربران استفاده کنید. نزدیکی به مکان‌های مهم و توریستی، دسترسی به حمل‌ونقل عمومی و مراکز خرید فاکتورهای مهمی در انتخاب محل اقامت مناسب در سفر هستند.",
  },
  {
    id: "10",
    question: "در چه زمان‌هایی هزینه رزرو هتل کمتر است؟",
    answer:
      "در زمان‌هایی که تقاضای سفر به مقصد موردنظر کمتر می‌شود، همچنین در ایام غیر تعطیل و اواسط هفته، هزینه رزرو هتل‌ها کاهش می‌یابد.",
  },
  {
    id: "11",
    question: "فلای‌تودی چه مقاصدی را برای رزرو هتل های داخلی و خارجی پوشش می‌دهد؟",
    answer:
      "پوشش بیش از یک و نیم میلیون هتل در سرتاسر جهان، این امکان را به شما می‌دهد تا در تمامی مقاصد، هتل مناسب خود را در فلای‌تودی رزرو کنید.",
  },
  {
    id: "12",
    question: "چند روز قبل از سفر باید هتل رزرو کرد؟",
    answer:
      "از آنجایی که ممکن است قیمت رزرو هتل لحظه‌ای تغییر کند یا ظرفیت اتاق‌های هتل مورد نظر شما تکمیل شود، بهتر است که حداقل دو هفته پیش از سفر، هتل خود را رزرو کنید.",
  },
  {
    id: "13",
    question: "تفاوت رزرو هتل برای بزرگسالان و کودکان در چیست؟",
    answer:
      "قوانین هتل‌ها در زمینه اقامت کودکان نسبت به بزرگسالان با یکدیگر متفاوت است اما معمولا، هزینه رزرو کودکان زیر 12 سالی که نیاز به تخت جداگانه نداشته باشند؛ رایگان یا بسیار ارزان‌تر از هزینه اقامت بزرگسالان محاسبه می‌شود.",
  },
  {
    id: "14",
    question: "تفاوت اتاق دبل و توئین چیست؟",
    answer:
      "اتاق‌های دبل یک تخت بزرگ در اندازه کینگ سایز دارند و برای زوج‌ها مناسب هستند. اتاق‌های تویین هم برای دو نفر مناسب هستند، اما دو تخت یک نفره دارند.",
  },
  {
    id: "15",
    question: "اتاق‌هایی همچون دلوکس، جونیور، امپریال و ...، چه تفاوتی با یکدیگر دارند؟",
    answer:
      "در این اتاق‌ها، متراژ، نمای بیرون (ویو اتاق)، موقعیت اتاق در طبقات، تخت خواب و چیدمان با یکدیگر متفاوت است.",
  },
  {
    id: "16",
    question: "چک این (Check in) و چک اوت (Check out) هتل‌های داخلی و خارجی چه زمانی است؟",
    answer:
      "معمولا در هتل های داخلی و خارجی، ساعت ورود (Check in) مسافر به اتاق 14بعدازظهر و ساعت خروج (Check out)، از هتل 12 ظهر است.",
  },
  {
    id: "17",
    question: "نیم شارژ ورود و خروج چیست؟",
    answer:
      "مسافرانی که ورود زود هنگام (8 صبح) یا خروج دیرهنگام (18 عصر) از هتل دارند؛ می‌توانند با استفاده از گزینه نیم شارژ هتل، نصف هزینه یک شب رزرو هتل را بپردازند.",
  },
  {
    id: "18",
    question: "آیا در فلای‌تودی امکان مقایسه هتل ها وجود دارد؟",
    answer:
      "بله. در حال حاضر این سرویس بر روی هتل‌های خارجی فعال است. پس از جستجوی هتل مقصد بر اساس تاریخ موردنظرتان، در صفحه نتایج جستجو، گزینه مقایسه هتل‌ها را انتخاب کنید. سپس 2 تا 5 هتل را از لیست هتل‌ها انتخاب کنید تا جدول مقایسه بر اساس قیمت، امکانات، امتیاز و ... نمایش داده شود. با بررسی نتایج می‌توانید بهترین هتل را بر اساس معیار موردنظر خود انتخاب و رزرو کنید.",
  },
]

export default function FaqAccordion() {
  const [openItems, setOpenItems] = useState<Set<string>>(new Set())

  const toggleItem = (id: string) => {
    const newOpenItems = new Set(openItems)
    if (newOpenItems.has(id)) {
      newOpenItems.delete(id)
    } else {
      newOpenItems.add(id)
    }
    setOpenItems(newOpenItems)
  }

  return (
    <div className={styles.container}>
      <div className={styles.header}>
        <h2 className={styles.title}>سوالات متداول</h2>
        <div className={styles.description}>
          <span>
            آماده پاسخگویی شبانه روزی به شما هستیم. لطفا پیش از تماس تلفنی یا ارسال ایمیل،{" "}
            <a href="https://www.flytoday.ir/faq" target="_blank" rel="noopener noreferrer" className={styles.link}>
              راهنمای مشتریان
            </a>{" "}
            را مطالعه نمایید.
          </span>
        </div>
      </div>

      <div className={styles.accordionWrapper}>
        {faqData.map((item) => {
          const isOpen = openItems.has(item.id)

          return (
            <div key={item.id} className={styles.accordionItem}>
              <button
                type="button"
                className={styles.accordionButton}
                onClick={() => toggleItem(item.id)}
                aria-expanded={isOpen}
                aria-controls={`answer-${item.id}`}
              >
                <div className={styles.iconWrapper}>
                  <ChevronDown className={clsx(styles.icon, isOpen && styles.iconRotated)} />
                </div>
                <div className={styles.questionWrapper}>
                  <div className={styles.question}>{item.question}</div>
                </div>
              </button>

              <div
                id={`answer-${item.id}`}
                className={clsx(styles.answerWrapper, isOpen && styles.answerWrapperOpen)}
                aria-hidden={!isOpen}
              >
                <div className={styles.answer}>
                  <p>
                    <span>{item.answer}</span>
                  </p>
                </div>
              </div>
            </div>
          )
        })}
      </div>
    </div>
  )
}
